<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Impostor Fútbol</title>
    <!-- Incluye las fuentes de Google Fonts para un estilo más atractivo -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Bebas+Neue&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <!-- Incluye los íconos de Font Awesome para las flechas -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <style>
        :root {
            --color-primary: #004d98; /* Azul profundo como la camiseta */
            --color-secondary: #00bfff; /* Celeste */
            --color-accent: #fcd116; /* Dorado */
            --color-text-dark: #222;
            --color-text-light: #fff;
            --color-bg: #e0f7fa;
            --font-main: 'Bebas Neue', 'Inter', sans-serif;
            --font-secondary: 'Inter', 'Roboto', sans-serif;
        }

        body {
            font-family: var(--font-secondary);
            background: linear-gradient(135deg, var(--color-bg), #b3e5fc);
            color: var(--color-text-dark);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" opacity="0.1"><path d="M50 0 L100 25 L100 75 L50 100 L0 75 L0 25 Z" fill="%23004d98"/><circle cx="50" cy="50" r="40" fill="%23fcd116" stroke="%2300bfff" stroke-width="5" fill-opacity="0.2"/></svg>');
            background-size: 50px;
            background-repeat: repeat;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .container {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            text-align: center;
            max-width: 500px;
            width: 100%;
            border: 5px solid var(--color-primary);
            position: relative;
            overflow: hidden;
            transition: transform 0.3s ease-out;
        }

        .container:hover {
            transform: scale(1.01);
        }

        h1 {
            font-family: var(--font-main);
            font-size: clamp(2rem, 8vw, 4rem);
            color: var(--color-primary);
            text-shadow: 3px 3px 0 var(--color-secondary), 6px 6px 0 var(--color-accent);
            letter-spacing: 2px;
            margin-bottom: 20px;
            text-transform: uppercase;
        }

        h2 {
            font-family: var(--font-main);
            font-size: clamp(1.5rem, 6vw, 3rem);
            color: var(--color-text-dark);
            margin-bottom: 20px;
        }

        p {
            font-size: 1.2rem;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .screen {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 20px;
            padding: 20px;
            border: 2px solid var(--color-primary);
            border-radius: 15px;
            background: #fff;
            box-shadow: inset 0 0 15px rgba(0,0,0,0.1);
            transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
            opacity: 0;
            transform: translateY(20px);
        }

        .screen.active {
            display: flex;
            opacity: 1;
            transform: translateY(0);
        }

        .btn {
            font-family: var(--font-main);
            font-size: clamp(1.2rem, 5vw, 2rem);
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: transform 0.2s, box-shadow 0.2s, background-color 0.2s;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            width: 100%;
            max-width: 300px;
            color: var(--color-text-light);
            background: var(--color-primary);
            background-image: linear-gradient(to right, var(--color-primary) 0%, #0060c0 100%);
            border: 2px solid var(--color-text-light);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
            background-image: linear-gradient(to right, #0060c0 0%, var(--color-primary) 100%);
        }

        .btn:active {
            transform: translateY(0);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .btn.secondary {
            background: var(--color-secondary);
            background-image: linear-gradient(to right, var(--color-secondary) 0%, #33c8ff 100%);
            margin-top: 10px;
            border: 2px solid var(--color-primary);
        }
        
        .btn.secondary:hover {
            background-image: linear-gradient(to right, #33c8ff 0%, var(--color-secondary) 100%);
        }

        .option-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .option-label {
            font-family: var(--font-secondary);
            font-size: 1.2rem;
            font-weight: 700;
        }

        .option-value {
            font-family: var(--font-main);
            font-size: 2.5rem;
            color: var(--color-primary);
        }

        .arrow-btn {
            background: transparent;
            border: none;
            cursor: pointer;
            color: var(--color-primary);
            font-size: 2rem;
            transition: transform 0.2s, color 0.2s;
        }

        .arrow-btn:hover {
            transform: scale(1.2);
            color: var(--color-accent);
        }

        .arrow-btn:disabled {
            color: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .game-display {
            background-color: #f0f0f0;
            border: 4px solid var(--color-primary);
            border-radius: 15px;
            padding: 40px 20px;
            min-height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 100%;
            box-sizing: border-box;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.1);
        }
        
        #player-number-display {
            font-family: var(--font-main);
            font-size: clamp(2rem, 8vw, 4rem);
            color: var(--color-primary);
        }

        #word-display {
            font-family: var(--font-main);
            font-size: clamp(1.8rem, 7vw, 3.5rem);
            color: var(--color-text-dark);
            text-shadow: 1px 1px 0 rgba(0,0,0,0.1);
            text-transform: uppercase;
            text-align: center;
        }

        .hidden {
            display: none;
        }

        .impostor-text {
            color: var(--color-accent);
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        /* Estilo del modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.5);
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background-color: #fefefe;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            max-width: 400px;
            position: relative;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body>

    <div class="container">
        <!-- Pantalla de inicio -->
        <div id="start-screen" class="screen active">
            <h1>Impostor Fútbol</h1>
            <p>Descubre el impostor entre tus amigos. ¡Que comience el partido!</p>
            <button id="start-game-btn" class="btn">Iniciar Partida</button>
        </div>

        <!-- Pantalla de configuraci\u00f3n -->
        <div id="config-screen" class="screen">
            <h2>Configuración</h2>
            <div class="option-container">
                <button class="arrow-btn" id="players-minus" aria-label="Disminuir jugadores"><i class="fas fa-arrow-left"></i></button>
                <div>
                    <div class="option-label">Cantidad de jugadores</div>
                    <div class="option-value" id="player-count">3</div>
                </div>
                <button class="arrow-btn" id="players-plus" aria-label="Aumentar jugadores"><i class="fas fa-arrow-right"></i></button>
            </div>
            
            <div class="option-container">
                <button class="arrow-btn" id="impostors-minus" aria-label="Disminuir impostores"><i class="fas fa-arrow-left"></i></button>
                <div>
                    <div class="option-label">Cantidad de impostores</div>
                    <div class="option-value" id="impostor-count">1</div>
                </div>
                <button class="arrow-btn" id="impostors-plus" aria-label="Aumentar impostores"><i class="fas fa-arrow-right"></i></button>
            </div>

            <button id="start-round-btn" class="btn">Iniciar Partida</button>
        </div>

        <!-- Pantalla de juego (mostrar palabra) -->
        <div id="word-screen" class="screen">
            <h2 id="player-number-display">Jugador Nro. 1</h2>
            <div class="game-display">
                <button id="show-word-btn" class="btn">Mostrar Palabra</button>
                <p id="word-display" class="hidden"></p>
            </div>
            <button id="next-player-btn" class="btn secondary">Siguiente Jugador</button>
        </div>
        
        <!-- Pantalla final -->
        <div id="end-screen" class="screen">
            <h2>¡Partida Finalizada!</h2>
            <p>Se han mostrado todas las palabras. Ahora es momento de discutir y votar. ¡Buena suerte!</p>
            <button id="play-again-btn" class="btn">Jugar de Nuevo</button>
            <button id="change-settings-btn" class="btn secondary">Cambiar Ajustes</button>
        </div>

    </div>
    
    <!-- Modal para mensajes de error o informaci\u00f3n -->
    <div id="message-modal" class="modal">
        <div class="modal-content">
            <p id="modal-text"></p>
            <button id="modal-close-btn" class="btn">Entendido</button>
        </div>
    </div>

    <script>
        // Array de jugadores de f\u00fatbol
        const playersList = [
            "Lionel Messi", "Cristiano Ronaldo", "Diego Maradona", "Pel\u00e9", "Zinedine Zidane",
            "Ronaldo Naz\u00e1rio", "Johan Cruyff", "Franz Beckenbauer", "Garrincha", "Michel Platini",
            "Alfredo Di St\u00e9fano", "Ferenc Pusk\u00e1s", "George Best", "Marco van Basten", "Zlatan Ibrahimovi\u0107",
            "Andr\u00e9s Iniesta", "Xavi Hern\u00e1ndez", "Ronaldinho Ga\u00fach", "Neymar Jr.", "Kylian Mbapp\u00e9",
            "Erling Haaland", "Luka Modri\u0107", "Kevin De Bruyne", "Mohamed Salah", "Robert Lewandowski",
            "Sergio Ramos", "Virgil van Dijk", "Manuel Neuer", "Alisson Becker", "Marc-Andr\u00e9 ter Stegen",
            "Paulo Dybala", "\u00c1ngel Di Mar\u00eda", "Lautaro Mart\u00ednez", "Juli\u00e1n \u00c1lvarez", "Frank Fabra",
            "N'Golo Kant\u00e9", "Sadio Man\u00e9", "Harry Kane", "Son Heung-min", "Thierry Henry",
            "Didier Drogba", "Samuel Eto'o", "Arjen Robben", "Franck Rib\u00e9ry", "Carles Puyol",
            "Gerard Piqu\u00e9", "Andrea Pirlo", "Gianluigi Buffon", "Iker Casillas", "David Beckham",
            "Kak\u00e1", "Wayne Rooney", "Frank Lampard", "Steven Gerrard", "Paolo Maldini",
            "Roberto Baggio", "Gabriel Batistuta", "Claudio Caniggia", "Romario", "Bebeto",
            "Javier Zanetti", "Gonzalo Montiel", "Juan Rom\u00e1n Riquelme", "Carlos T\u00e9vez", "Sergio Ag\u00fcero",
            "Diego Simeone", "Alan Velasco", "Mascherano", "Javier Saviola", "Pablo Aimar",
            "Radamel Falcao", "James Rodr\u00edguez", "Luis Su\u00e1rez", "Edinson Cavani", "Arturo Vidal",
            "Alexis S\u00e1nchez", "Claudio Bravo", "Keylor Navas", "Christian Pulisic",
            "Rodrigo De Paul", "Chicharito Hern\u00e1ndez",
            "Guillermo Ochoa", "Francesco Totti", "Alessandro Del Piero", "Giorgio Chiellini",
            "Leonardo Bonucci", "Nahuel Molina", "Mario Balotelli", "Paul Pogba", "Antoine Griezmann",
            "Karim Benzema", "Vin\u00edcius Jr.", "Rodrygo", "Federico Valverde", "Casemiro",
            "Toni Kroos", "Thomas M\u00fcller", "Joshua Kimmich", "Manuel Neuer", "Mesut \u00d6zil",
            "Marco Reus", "Leroy San\u00e9", "Kai Havertz", "Timo Werner", "Mats Hummels",
            "Jude Bellingham", "Phil Foden", "Jack Grealish", "Marcus Rashford", "Bukayo Saka",
            "Mason Mount", "Declan Rice", "Trent Alexander-Arnold", "Kyle Walker", "Raheem Sterling",
            "Hakim Ziyech", "Achraf Hakimi", "Riyad Mahrez", "Andr\u00e9 Onana",
            "Christian Eriksen", "Pierre-Emerick Aubameyang",
            "Heung-Min Son", "Miguel Merentiel",
            "Ivan Rakiti\u0107", "Josko Gvardiol", "Gareth Bale",
            "Frank Fabra", "Raúl Asencio", "Hugo Lloris", "Richarlison",
            "Bruno Fernandes", "Bernardo Silva", "Jo\u00e3o F\u00e9lix", "R\u00faben Dias", "Raphael Varane",
            "Raphael Guerreiro", "Jo\u00e3o Cancelo", "Gon\u00e7alo Ramos", "Vitinha", "Darwin N\u00fa\u00f1ez",
            "Luis D\u00edaz", "Luis Muriel", "Juan Guillermo Cuadrado", "David Ospina", "David Neres",
            "Antony", "Fred", "Gabriel Martinelli", "Gabriel Jesus", "Vini Jr",
            "Sergio Busquets", "Jordi Alba", "Ferran Torres", "Gavi", "Pedri",
            "Emiliano Mart\u00ednez", "Alejandro Garnacho", "Nico Otamendi"
        ];
        
        // Variables del juego
        let playerCount = 3;
        let impostorCount = 1;
        let impostorIndices = [];
        let wordForPlayers = "";
        let currentPlayerIndex = 0;
        
        // Elementos del DOM
        const startScreen = document.getElementById('start-screen');
        const configScreen = document.getElementById('config-screen');
        const wordScreen = document.getElementById('word-screen');
        const endScreen = document.getElementById('end-screen');

        const startGameBtn = document.getElementById('start-game-btn');
        const playersMinusBtn = document.getElementById('players-minus');
        const playersPlusBtn = document = document.getElementById('players-plus');
        const impostorsMinusBtn = document.getElementById('impostors-minus');
        const impostorsPlusBtn = document.getElementById('impostors-plus');
        const startRoundBtn = document.getElementById('start-round-btn');
        const showWordBtn = document.getElementById('show-word-btn');
        const nextPlayerBtn = document.getElementById('next-player-btn');
        const playAgainBtn = document.getElementById('play-again-btn');
        const changeSettingsBtn = document.getElementById('change-settings-btn');
        
        const playerCountEl = document.getElementById('player-count');
        const impostorCountEl = document.getElementById('impostor-count');
        const playerNumberEl = document.getElementById('player-number-display');
        const wordDisplayEl = document.getElementById('word-display');
        const messageModal = document.getElementById('message-modal');
        const modalText = document.getElementById('modal-text');
        const modalCloseBtn = document.getElementById('modal-close-btn');

        // Funci\u00f3n para mostrar un modal
        function showMessage(message) {
            modalText.textContent = message;
            messageModal.style.display = 'flex';
        }
        
        modalCloseBtn.addEventListener('click', () => {
            messageModal.style.display = 'none';
        });

        // Funci\u00f3n para controlar las pantallas
        function showScreen(screen) {
            // Desactiva todas las pantallas con una animaci\u00f3n
            document.querySelectorAll('.screen').forEach(s => {
                s.classList.remove('active');
            });
            // Activa la pantalla deseada
            screen.classList.add('active');
        }

        // Funci\u00f3n de l\u00f3gica del juego
        function setupGame() {
            // Reinicia variables de estado del juego
            currentPlayerIndex = 0;
            impostorIndices = [];

            // Elige una palabra al azar para los jugadores
            const randomIndex = Math.floor(Math.random() * playersList.length);
            wordForPlayers = playersList[randomIndex];

            // Genera una lista de \u00edndices de jugadores
            const playerIndices = Array.from({length: playerCount}, (_, i) => i);
            
            // Asigna los impostores de forma aleatoria sin repetir
            while (impostorIndices.length < impostorCount) {
                const impostorIndex = Math.floor(Math.random() * playerCount);
                if (!impostorIndices.includes(impostorIndex)) {
                    impostorIndices.push(impostorIndex);
                }
            }

            console.log("Palabra de la ronda: " + wordForPlayers);
            console.log("Jugadores impostores (\u00edndices): " + impostorIndices.join(', '));
        }
        
        function updatePlayerUI() {
            playerNumberEl.textContent = `Jugador Nro. ${currentPlayerIndex + 1}`;
            wordDisplayEl.textContent = "";
            wordDisplayEl.classList.add('hidden');
            showWordBtn.classList.remove('hidden');
            
            // L\u00f3gica para el \u00faltimo jugador
            if (currentPlayerIndex === playerCount - 1) {
                nextPlayerBtn.textContent = "Iniciar Partida";
            } else {
                nextPlayerBtn.textContent = "Siguiente Jugador";
            }
        }
        
        // Manejadores de eventos
        startGameBtn.addEventListener('click', () => {
            showScreen(configScreen);
        });
        
        playersMinusBtn.addEventListener('click', () => {
            if (playerCount > 3) {
                playerCount--;
                playerCountEl.textContent = playerCount;
            } else {
                showMessage("La cantidad m\u00ednima de jugadores es 3.");
            }
            updateImpostorLimits();
        });
        
        playersPlusBtn.addEventListener('click', () => {
            playerCount++;
            playerCountEl.textContent = playerCount;
            updateImpostorLimits();
        });
        
        impostorsMinusBtn.addEventListener('click', () => {
            if (impostorCount > 1) {
                impostorCount--;
                impostorCountEl.textContent = impostorCount;
            } else {
                showMessage("La cantidad mínima de impostores es 1.");
            }
        });
        
        impostorsPlusBtn.addEventListener('click', () => {
            if (impostorCount < 2) {
                impostorCount++;
                impostorCountEl.textContent = impostorCount;
            } else {
                showMessage("La cantidad máxima de impostores es 2.");
            }
        });

        // Asegura que los impostores no superen la cantidad de jugadores - 1
        function updateImpostorLimits() {
            if (impostorCount >= playerCount) {
                impostorCount = playerCount - 1;
                impostorCountEl.textContent = impostorCount;
            }
        }
        
        startRoundBtn.addEventListener('click', () => {
            if (playerCount <= impostorCount) {
                showMessage("La cantidad de jugadores debe ser mayor que la de impostores.");
                return;
            }
            setupGame();
            updatePlayerUI();
            showScreen(wordScreen);
        });
        
        showWordBtn.addEventListener('click', () => {
            const isImpostor = impostorIndices.includes(currentPlayerIndex);
            
            if (isImpostor) {
                wordDisplayEl.textContent = "Impostor";
                wordDisplayEl.classList.add('impostor-text');
            } else {
                wordDisplayEl.textContent = wordForPlayers;
                wordDisplayEl.classList.remove('impostor-text');
            }
            
            wordDisplayEl.classList.remove('hidden');
            showWordBtn.classList.add('hidden');
        });
        
        nextPlayerBtn.addEventListener('click', () => {
            if (currentPlayerIndex < playerCount - 1) {
                currentPlayerIndex++;
                updatePlayerUI();
            } else {
                // Fin de la ronda
                showScreen(endScreen);
            }
        });

        playAgainBtn.addEventListener('click', () => {
            setupGame();
            updatePlayerUI();
            showScreen(wordScreen);
        });

        changeSettingsBtn.addEventListener('click', () => {
            showScreen(configScreen);
        });

        // Inicializa el juego
        document.addEventListener('DOMContentLoaded', () => {
            showScreen(startScreen);
        });

    </script>
</body>
</html>
